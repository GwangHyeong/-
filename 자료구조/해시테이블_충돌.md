## 해시테이블_충돌

* 서로 다른 키들이 동일 해시값을 가질 때 충돌(collision)
* 충돌시 해결방법
  * 개방주소방식
  * 폐쇄주소방식
  
### 개방주소방식
* 개방주소방식은 해시테이블 전체를 열린 공간으로 가정하고 충돌된 키를 일정한 방식에 따라서 찾아낸 empty원소에저장
* 대표적인 개방주소방식:
  1. 선형조사(Linear Probing)
  2. 이차조사(Quadratic Probing)
  3. 랜덤조사(Random Probing)
  4. 이중해싱(Double Hashing)
  
### 선형조사 방식
![캡처](https://user-images.githubusercontent.com/54932560/83395145-c1820600-a434-11ea-87d4-6f86af00e156.PNG)
* 해당 위치에 값이 차있을 경우는 다음 위치로 옮긴다.
* 선형(순서대로) 위치를 옮기는 것
* 선형조사는 순차탐색으로 empty원소를 찾아 충돌된 키를 저장하므로 해시테이블의 키들이 빈틈없이 뭉쳐지는 현상이 발생(군집화)
* 이러한 군집화는 탐색,삽입,삭제 연산 시 군집된 키들을 순차적으로 방문해야 하는 문제점을 야기
* 군집화는 해시테이블에 empty 워놋 수가 적을수록 더 심화되며 해시성능을 극단적으로 저하시킴

### 이차조사 방식
![캡처](https://user-images.githubusercontent.com/54932560/83395486-5b49b300-a435-11ea-8769-e66271a116cf.PNG)
* 해당 위치에 값이 차있을 경우 1^2 , 2^2 , 3^3 과 같이 제곱 씩 위치를 움직인다.
* 이차조사는 이웃하는 빈 곳이 채워져 만들어지는 1차 군집화 문제를 해결하지만,
* 같은 해시값을 갖는 서로 다른 키들인 동의어들이 똑같은 점프 시퀀스를 따라 empty 원소를 찾아 저장하므로 결국 또 다른 형태의 군집화인 2차 군집화를 야기
* 점프 크기가 제곱 만큼씩 커지므로 배열에 empty원소가 있는데도 empty원소를 건너뛰어 탐색에 실패하는 경우도 피할 수 없음

### 랜덤조사
* 랜덤조사는 선형조사와 이차조사의 규칙적인 점프 시퀀스와는 달리 점프 시퀀스를 무작위화하여 empty원소를 찾는 충돌해결방법
* 랜덤조사는 의사 난수 생성기를 사용하여 다음 위치를 찾음
* 랜덤조사 방식도 동의어들이 똑같은 점프 시퀀스에 따라 empty원소를 찾아 키를 저장하게 된다
* 컴퓨터에서의 난수는 미리 정해진 수.

### 이중해싱
* 이중해싱은 2개의 해시 함수를 사용
* 하나는 기본적인 해시함수h(key)로 키를 해시테이블의 인덱스로 변환하고, 제 2의 함수 d(key)는 충돌 발생 시 다음 위치를 위한 점프 크기를 다음의 규칙에 따라 정함
* (h(hey) + j ˚ d (key)) mod M, j = 0,1,2, … 
* 이중해싱은 동의어들이 저마다 제2 해시함수를 갖기 때문에 점프 시퀀스가 일정하지 않음
* 따라서 이중해싱은 모든 군집화 문제를 해결
![캡처](https://user-images.githubusercontent.com/54932560/83398838-19bc0680-a43b-11ea-803b-2e0570c78947.PNG)


=== 개방주소방식 끝 ===

### 폐쇄주소방식
* 폐쇄주소방식(Closed Addressing)의 충돌해결 방법은 키에 대한 해시값에 대응되는 곳에만 키를 저장
* 충돌이 발생한 키들은 한 위치에 모여 저장
* 이를 구현하는 가장 대표적인 방법 : 체이닝(Chaining)

### 2-방향 체이닝
![캡처](https://user-images.githubusercontent.com/54932560/83400497-e5961500-a43d-11ea-84e1-0233accceb69.PNG)

### 뻐꾸끼 해싱
* 다른값으로 밀어넣어서 해싱
![캡처](https://user-images.githubusercontent.com/54932560/83400620-22faa280-a43e-11ea-8fb3-fbc8fa5058f4.PNG)

#### 요약
* 해싱이란 키를 간단한 함수로 계산한 값을 배열의 인덱스로 이용하여 항목을 저장하고,탐색,삽입,삭제 연산을 평균O(1)시간에 지원하는 자료구조
* 해시 함수는 키들을 균등하게 해시테이블의 인덱스로 변환, 대표적인 해시 함수는 나눗셈 함수
* 충돌해결방법들은 크게 두가지로 분류 : 개방주소방식, 폐쇄주소방식
* 개방주소방식 : 선형조사,이차조사,랜덤조사,이중해싱
* 폐쇄주소방식은 키에 대한 해시값에 대응되는 곳에만 키를 저장
* 체이닝은 해시 테이블 크기만큼의 연결리스트를 가지며, 키를 해시값에 대응되는 연결리스트에 저장
 - 군집화 현상이 발생하지 않으며, 구현이 간결하여 실제로 가장 많이 활용되는 해시방법
* 2-방향 체이닝은 2개의 해시 함수를 이용하여 연결리스트의 길이가 짧은 쪽에 새 키를 저장
* 뻐꾸기 해싱은 탐색과 삭제를 O(1)시간에 보장하는 매우 효율적인 해싱 방법
* 재해시는 삽입에 실패하거나 해시 성능이 급격히 저하되었을 때, 해시테이블의 크기를 확장하고 새로운 해시 함수를 사용해 모든 키들을 새로운 해시테이블에 저장
* 동적 해싱은 대용량의 데이터베이스를 위한 해시방법으로 재해시를 수행하지 않고 동적으로 해시테이블의 크기를 조절 : 확장 해싱과 선형 해싱
